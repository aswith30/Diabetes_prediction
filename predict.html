<!DOCTYPE html>
<html lang="en">
<head>
    <title>Diabetes Prediction</title>
    <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
    <style>
        /* CSS same as you provided */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Quicksand', sans-serif;
            background: url("https://wallpapers.com/images/hd/blue-vital-sign-hd-medical-m0tj1swas1gb75k9.jpg") no-repeat center center/cover;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container { width: 95%; max-width: 800px; display: flex; align-items: center; }
        .contact-box { display: flex; background: rgba(255, 255, 255, 0.8); border-radius: 10px; overflow: hidden; width: 100%; }
        .left {
            width: 50%;
            background: url("https://eu-images.contentstack.com/v3/assets/blt14ac89070d5e4751/blt99598c52f1923eea/651af312966ef201f390eeb5/AdobeStock_201915656.jpeg") no-repeat center center/cover;
        }
        .right { width: 50%; padding: 20px; display: flex; flex-direction: column; }
        h2 { text-align: center; margin-bottom: 20px; color: #333; }
        .field { width: 100%; padding: 12px; margin: 8px 0; border: 2px solid #ddd; border-radius: 5px; font-size: 14px; }
        .btn { background-color: #4CAF50; color: white; padding: 12px; border: none; border-radius: 5px; cursor: pointer; margin-top: 20px; }
        .btn:hover { background-color: #45a049; }
        .bmi-btn { background-color: #008CBA; margin-top: 10px; }
        .bmi-btn:hover { background-color: #007BB5; }
        @media (max-width: 768px) {
            .contact-box { flex-direction: column; }
            .left { width: 100%; height: 200px; }
            .right { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="contact-box">
            <div class="left"></div>
            <div class="right">
                <h2>Diabetes Prediction</h2>

                <form action="/predict/" method="POST"> <!-- Corrected -->
                    {% csrf_token %}
                    
                    <input required type="number" name="age" class="field" placeholder="Age">
                    <input required type="number" name="glucose" class="field" placeholder="Glucose">
                    <input required type="number" name="blood_pressure" class="field" placeholder="Blood Pressure">
                    <input required type="number" name="insulin" class="field" placeholder="Insulin">

                    <input required type="number" step="0.1" id="BMI" name="bmi" class="field" placeholder="Body Mass Index">

                    <!-- BMI Calculator Button -->
                    <button type="button" class="btn bmi-btn" onclick="goToBMICalculator()">Calculate BMI</button>

                    <input type="number" step="any" name="pregnancies" placeholder="Pregnancies (Optional)" class="field">

                    <input required type="number" name="skin_thickness" class="field" placeholder="Skin Thickness">
                    <input required type="number" step="0.0001" name="diabetes_pedigree_function" class="field" placeholder="Diabetes Pedigree Function">

                    <button class="btn" type="submit"><b>Predict Diabetes</b></button>
                </form>
            </div>
        </div>
    </div>

    <script>
        function goToBMICalculator() {
            window.location.href = '/predict/bmi/';  // Fixed URL for BMI Calculator
        }
        
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            const bmi = params.get('bmi');
            if (bmi) {
                document.getElementById('BMI').value = bmi;
            }
        };
    </script>
</body>
</html>
